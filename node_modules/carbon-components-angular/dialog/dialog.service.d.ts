/*!
 *
 * carbon-angular v0.0.0 | dialog.service.d.ts
 *
 * Copyright 2014, 2019 IBM
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0

 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */


import { EventEmitter, Injector, ComponentRef, ComponentFactory, ComponentFactoryResolver, ViewContainerRef } from "@angular/core";
import { Subscription } from "rxjs";
import { DialogConfig } from "./dialog-config.interface";
import { PlaceholderService } from "./../placeholder/placeholder.module";
import { Dialog } from "./dialog.component";
/**
 * `Dialog` object to be injected into other components.
 */
export declare class DialogService {
    protected componentFactoryResolver: ComponentFactoryResolver;
    protected injector: Injector;
    protected placeholderService: PlaceholderService;
    /**
     * Used in `singletonClickListen`, don't count on its existence and values.
     */
    protected static listeningForBodyClicks: boolean;
    /**
     * A set of all known dialog components
     */
    protected static dialogRefs: Set<ComponentRef<Dialog>>;
    /**
     * A `Subscription` that contains all `onClose` subscriptions
     */
    protected static dialogCloseSubscription: Subscription;
    /**
     * Reflects the open or closed state of the `Dialog`.
     *
     * @deprecated the open state of the dialog should be tracked by the component that creates it
     */
    isOpen: boolean;
    /**
     * To be used to create the component using metadata.
     *
     * @deprecated
     */
    componentFactory: ComponentFactory<any>;
    /**
     * To emit the `Dialog` closing event.
     */
    onClose: EventEmitter<any>;
    /**
     * Holds reference to the created `Dialog` component after creation.
     *
     * @deprecated components should track local `dialogRefs` themselves
     */
    dialogRef: ComponentRef<any>;
    /**
     * Emits the state `true` if the Dialog is closed, false if `Dialog`
     * is opened/viewable.
     *
     * @deprecated components should simply bind to the dialogRefs `close` emitter
     */
    isClosed: EventEmitter<any>;
    /**
     * To watch the event that closes the `Dialog`.
     *
     * @deprecated in favor of `DialogService.dialogCloseSubscription`
     */
    protected dialogSubscription: Subscription;
    /**
     * Creates an instance of `DialogService`.
     */
    constructor(componentFactoryResolver: ComponentFactoryResolver, injector: Injector, placeholderService: PlaceholderService);
    /**
     * Uses module `componentFactory` to create the `Dialog` component.
     *
     * Useful for components that extend `Dialog` and don't want to re-implement `open`
     *
     * @deprecated TODO: a better way for individual instances to hook into `DialogService#open`
     */
    create(component: any): void;
    /**
     * Toggles between `Dialog` open/close states.
     *
     * @deprecated components should implement their own `toggle` with the `close` and `open` methods
     */
    toggle(viewContainer: ViewContainerRef, dialogConfig: DialogConfig): void;
    /**
     * If `dialogRef` is defined, the Dialog is already open. If
     * `dialogRef` is undefined, we create the `Dialog` component and reference to it.
     * A subscription is created to track if the `Dialog` should close.
     *
     * @param viewContainer a `ViewContainerRef` to instantiate the component against.
     * May be `null` if an `ibm-placeholder` exists and `dialogConfig.appendInline` is false
     * @param dialogConfig the `DialogConfig` for the component
     */
    open(viewContainer: ViewContainerRef, dialogConfig: DialogConfig, component?: any): this;
    /**
     * On close of `Dialog` item, sets focus back to previous item, unsets
     * the current `dialogRef` item. Unsubscribes to the event of `Dialog` close.
     *
     * @param viewContainer deprecated - does nothing. null may safely be passed
     * @param dialogRef the dialogRef to close
     */
    close(viewContainer: ViewContainerRef, dialogRef?: ComponentRef<Dialog>): void;
    /**
     * Closes all known `Dialog`s. Does not focus any previous elements, since we can't know which would be correct
     */
    closeAll(): void;
    /**
     * Fix for safari hijacking clicks.
     *
     * Runs on `ngOnInit` of every dialog. Ensures we don't have multiple listeners
     * because having many of them could degrade performance in certain cases (and is
     * not necessary for our use case)
     *
     * This is an internally used function, can change at any point (even get removed)
     * and changes to it won't be considered a breaking change. Use at your own risk.
     */
    singletonClickListen(): void;
}
